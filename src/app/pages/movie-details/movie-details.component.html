<div class="bg-[#050a30] min-h-screen text-white">
  <div class="container mx-auto max-w-6xl p-4 flex flex-col">
    <ng-container *ngIf="isLoading"> loading.... </ng-container>

    <ng-container *ngIf="!isLoading && movieDetails" class="p-4">
      <h1 class="text-2xl font-extralight from-stone-300">
        {{ movieDetails.title }}
      </h1>
      <div class="mt-4 w-full grid grid-cols-3 gap-4">
        <div class="rounded-sm border-2 border-e-red-200">
          <img
            class="h-[65vh] min-w-full object-center rounded-sm"
            [src]="baseImagePath + movieDetails.poster_path"
            [alt]="movieDetails.title + 'image'"
          />
        </div>
        <div class="text-[#f4f4f4] text-sm font-extralight col-span-2">
          <p>
            <span class="text-gray-500 text-lg"> Overview: </span>
            {{ movieDetails.overview }}
          </p>
          <p>
            <span class="text-gray-500 text-lg"> Language: </span>
            {{ movieDetails.original_language }}
          </p>
          <p>
            <span class="text-gray-500 text-lg"> Budget: </span>
            ${{ numberWithCommas(movieDetails.budget.toString()) }}M
          </p>
          <p>
            <span class="text-gray-500 text-lg"> Box Office: </span>
            ${{ numberWithCommas(movieDetails.revenue.toString()) }}M
          </p>
          <p>
            <span class="text-gray-500 text-lg"> Run time: </span>
            {{ movieDetails.runtime }}m
          </p>
          <p>
            <span class="text-gray-500 text-lg">Release Date : </span>
            {{ movieDetails.release_date }}
          </p>
          <p>
            <span class="text-gray-500 text-lg"> Tag line: </span>
            {{ movieDetails.tagline }}
          </p>

          <p>
            <span class="text-gray-500 text-lg"> Rating: </span>

            <rating
              style="color: #32cd30; font-size: 25px"
              (ngModel)="(rate)"
              [max]="max"
              [readonly]="isReadonly"
            ></rating>
          </p>
          <div class="flex justify-center mt-6 divide-x divide-[#001f3d]">
            <ng-container
              *ngFor="let company of productionCompanies"
              class="flex flex-row justify-center items-center"
            >
              <div
                class="flex flex-col justify-center items-center text-center mr-2 p-2"
              >
                <img
                  [src]="
                    company.logo_path
                      ? baseImagePath + company.logo_path
                      : noLogo
                  "
                  class="rounded-full w-12 h-12"
                  [alt]="company.name"
                />

                <span class="text-sm truncate text-[#32cd30] mt-2">
                  {{ company.name }}
                </span>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="similarMovies">
      <div class="mt-16 p-2">
        <h3 class="text-sm font-extralight">People also search for</h3>
        <div class="grid grid-cols-6 gap-8 mt-2 p-1">
          <ng-container *ngFor="let movie of similarMovies">
            <app-movie-card [movie]="movie"> </app-movie-card>
          </ng-container>
        </div>
      </div>
    </ng-container>
  </div>
</div>
